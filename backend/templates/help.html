{% extends "base.html" %}
{% block title %}Glossary / Help Section{% endblock %}

{% block content %}
<div class="text-center mb-5 animate-fade-in">
    <h1 class="display-5 fw-bold">Glossary / Help Section</h1>
    <p class="lead text-muted">Understand the key terms used in probability and diagnostic calculations.</p>
</div>

<!-- FAQ / Glossary Accordion -->
<div class="card shadow-sm mb-4">
    <div class="card-body p-4">
        <h2 class="card-title h4 mb-3">Key Terms & Concepts</h2>
        <div class="accordion" id="glossaryAccordion">

            <!-- Item 1: Prior Probability -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                        <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M12 6v6l4 2"></path>
                        </svg>
                        What is Prior Probability?
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#glossaryAccordion">
                    <div class="accordion-body">
                        <strong>Definition:</strong> It's the probability of a condition or event before new evidence (like a test result) is considered.<br><br>
                        <strong>Example:</strong> The chance someone has a disease before any medical test is performed.<br><br>
                        <a href="https://en.wikipedia.org/wiki/Prior_probability" target="_blank" class="text-decoration-none">Learn more →</a>
                    </div>
                </div>
            </div>

            <!-- Item 2: Sensitivity -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                        <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                        </svg>
                        What is Sensitivity?
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#glossaryAccordion">
                    <div class="accordion-body">
                        <strong>Definition:</strong> Sensitivity measures how well a test identifies true positives.<br><br>
                        <strong>Example:</strong> A test with 95% sensitivity correctly detects 95 out of 100 people who have the disease.<br><br>
                        <a href="https://en.wikipedia.org/wiki/Sensitivity_and_specificity" target="_blank" class="text-decoration-none">Learn more →</a>
                    </div>
                </div>
            </div>
            
            <!-- Item 3: Specificity -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                        <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22 4 12 14.01 9 11.01"></polyline>
                        </svg>
                        What is Specificity?
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#glossaryAccordion">
                    <div class="accordion-body">
                        <strong>Definition:</strong> Specificity measures how well a test identifies true negatives.<br><br>
                        <strong>Example:</strong> A 90% specific test correctly clears 90 out of 100 healthy people.<br><br>
                        <a href="https://en.wikipedia.org/wiki/Sensitivity_and_specificity" target="_blank" class="text-decoration-none">Learn more →</a>
                    </div>
                </div>
            </div>

            <!-- Item 4: False Positive Rate -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFour">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">
                        <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="15" y1="9" x2="9" y2="15"></line>
                            <line x1="9" y1="9" x2="15" y2="15"></line>
                        </svg>
                        What is False Positive Rate?
                    </button>
                </h2>
                <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#glossaryAccordion">
                    <div class="accordion-body">
                        <strong>Definition:</strong> It's the percentage of people incorrectly marked as positive when they are actually negative.<br><br>
                        <strong>Formula:</strong> Calculated as (1 - Specificity).<br><br>
                        <a href="https://en.wikipedia.org/wiki/False_positive_rate" target="_blank" class="text-decoration-none">Learn more →</a>
                    </div>
                </div>
            </div>

            <!-- Item 5: Posterior Probability -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingFive">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive">
                        <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                            <line x1="12" y1="22.08" x2="12" y2="12"></line>
                        </svg>
                        What is Posterior Probability?
                    </button>
                </h2>
                <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#glossaryAccordion">
                    <div class="accordion-body">
                        <strong>Definition:</strong> The updated probability of a condition after considering new evidence, like test results.<br><br>
                        <strong>How it works:</strong> It's calculated using Bayes' theorem, which combines prior probability with new test data.<br><br>
                        <a href="https://en.wikipedia.org/wiki/Posterior_probability" target="_blank" class="text-decoration-none">Learn more →</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Additional Information Card -->
<div class="card shadow-sm mb-4">
    <div class="card-body p-4">
        <h2 class="card-title h4">Understanding Bayes' Theorem</h2>
        <p class="card-text">Bayes' theorem is a mathematical formula used to update the probability of a hypothesis based on new evidence. In medical diagnostics, it helps calculate the probability that a patient has a disease given a positive or negative test result.</p>
        <p class="card-text">The theorem considers:</p>
        <ul>
            <li><strong>Prior Probability:</strong> Initial belief before the test</li>
            <li><strong>Likelihood:</strong> Test accuracy (sensitivity and specificity)</li>
            <li><strong>Posterior Probability:</strong> Updated belief after the test</li>
        </ul>
    </div>
</div>
{% endblock %}